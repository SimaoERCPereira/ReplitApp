[Unit]
Description=The People's Pitch Flask App
After=network.target postgresql.service

[Service]
User=appuser
Group=appuser
WorkingDirectory=/path/to/app
Environment="PATH=/path/to/app/venv/bin"
Environment="FLASK_ENV=production"
Environment="DATABASE_URL=postgresql://username:password@localhost/thepeoplepitch"
Environment="SECRET_KEY=your_secret_key_here"
Environment="CRON_API_KEY=your_cron_api_key_here"
ExecStart=/path/to/app/venv/bin/gunicorn app_production:app -b 127.0.0.1:5000 -w 4
Restart=always

[Install]
WantedBy=multi-user.target
